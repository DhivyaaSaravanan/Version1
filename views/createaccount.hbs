<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="/css/createaccount.css">
    <script src="https://kit.fontawesome.com/5e5d8f9e22.js" crossorigin="anonymous"></script>
    <title>Create account</title>
</head>
<body>

    <div class="container">
        
        <form id="form" action="/auth/createaccount" method="post">
        
            <h1>Create Account</h1>
            {{#if msg}}
        <p class="{{msg_type}}">{{msg}}</p>
        {{/if}}
         <div class="input-control">
                <label for="email">Email</label>
                <input id="email"  name="email" type="text" placeholder="Enter email" onkeyup=" validateemail()">
                <div id="email-error" style="color:red;"></div>
            </div><br>

            <div class="input-control">
                <label for="username">Username</label>
                <input id="username" name="username" type="text" placeholder="Enter username" onkeyup="validatename()">
                <div id="username-error" style="color:red;"></div>
            </div><br>
           
            <div class="input-control">
                <label for="password">Password</label>
                <input id="password" name="password" type="password"  placeholder="Enter password" onkeyup="validatepassword()">
                <div id="password-error" style="color:red;"></div>
            </div><br>

            <div class="input-control">
                <label for="password2">Password Check</label>
                <input id="password2" name="password2" type="password"   placeholder="Enter password again" onkeyup=" validatecpassword()">
                <div id="cpassword-error" style="color:red;"></div>
            </div><br>
            <button type="submit" onclick="return  validateform()">CreateAccount</button>
            
        </form>
    </div>
   
<script>
const email= document.getElementById('email-error');
const userName= document.getElementById('username-error');
const password= document.getElementById('password-error');
const cpassword= document.getElementById('cpassword-error');

function validateemail(){
    const emailcheck=document.getElementById('email').value.trim();

    if(emailcheck==='')
    {
        email.innerHTML='Please enter your email id';
        document.getElementById("email").style.borderColor = "red";
        return false;
    }
    if(!emailcheck.match(/^([a-zA-Z0-9-_\.]+)@([a-zA-Z0-9]+)\.([a-zA-Z]{2,10})(\.[a-zA-Z]{2,8})?$/)){
        email.innerHTML='Please enter valid email id';
        document.getElementById("email").style.borderColor = "red";
        return false;
    }
    if(emailcheck.match(/^([a-zA-Z0-9-_\.]+)@([a-zA-Z0-9]+)\.([a-zA-Z]{2,10})(\.[a-zA-Z]{2,8})?$/)){
        email.innerHTML='';
        document.getElementById("email").style.borderColor = "green";
        return true;
    }
}
 
function validatename(){
    const namecheck=document.getElementById('username').value.trim();

    if(namecheck===''){
        userName.innerHTML='please enter username';
        document.getElementById("username").style.borderColor = "red";
        return false;
    }
    if(namecheck.length>0){
        userName.innerHTML='';
        document.getElementById("username").style.borderColor = "green";
        return true;
    }
}

function validatepassword()
{
    const passwordcheck=document.getElementById('password').value.trim();
    if(passwordcheck==='')
    {
        password.innerHTML='Please create your password';
        document.getElementById("password").style.borderColor = "red";
        return false;
    }
    if(!passwordcheck.match(/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{6,16}$/))
    {
        password.innerHTML='6-16 characters-At least one numeric digit and special character';
        document.getElementById("password").style.borderColor = "red";
        return false;
    }
    if(passwordcheck.match(/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{6,16}$/)){
        password.innerHTML='';
        document.getElementById("password").style.borderColor = "Green";
        return true;
    }
}
function validatecpassword(){
    const passwordcheck1=document.getElementById('password2').value.trim();
    passwordcheck=document.getElementById('password').value.trim();
    if(passwordcheck1==='')
    {
        cpassword.innerHTML='Please confirm your password';
        document.getElementById("password2").style.borderColor = "red";
        return false;
    }
    if(passwordcheck1!==passwordcheck)
    {
        cpassword.innerHTML='Password does not match';
        document.getElementById("password2").style.borderColor = "red";
        return false;
    }
    if(passwordcheck1===passwordcheck)
    {
        cpassword.innerHTML='';
        document.getElementById("password2").style.borderColor = "Green";
        return true;
    }
}
function validateform()
{
    if(!validateemail()||!validatename()||!validatepassword()||!validatecpassword()){
      alert('Please fill the details correctly');
      return false;
    }
}
</script>
  
</body>
</html>

